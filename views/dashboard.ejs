<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portfoliotracker - Dashboard</title>
    <link href="dashboard_style.css" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
</head>

<body>
    <div id="topBar_id">
        <h1>PORTFOLIOTRACKER</h1>
        <span class="material-symbols-outlined" id="topBar_goBack_id">home</span>
    </div>

    

    <ul>
        <li><a href="/dashboard" style="color: gray;"><span class="material-symbols-outlined" style="color: gray;">dashboard</span>Dashboard</a></li>
        <li><a href="/portfolios"><span class="material-symbols-outlined">folder_open</span>Portfolios</a></li>
        <li><a href="/trade"><span class="material-symbols-outlined">query_stats</span>Market</a></li>
        <li><a href="/accounts"><span class="material-symbols-outlined">account_balance_wallet</span>Accounts</a></li>
        <li><a href="/profile"><span class="material-symbols-outlined">person</span>Profile</a></li>
      </ul>

      
      <div id="bodyIndholdContainer_id">
        <h2>Dashboard</h2>
        <div id="container_værdier_id">
          <div id="totalVærdi_box_id">
            <span>Total værdi</span>
            <hr>
            <span>
              <span class="material-symbols-outlined" style="color: limegreen">arrow_upward_alt</span>
              <span id="totalVærdi_procent_id">5%</span>
              <span style="float: right;">&nbsp;1000 kr.</span>
            </span>
          </div>
          
          <div id="totalRealiseretVærdi_box_id">
            <span>Total realiseret værdi</span>
            <hr>
            <span>
              <span class="material-symbols-outlined" style="color: limegreen">arrow_downward_alt</span>
              <span id="totalRealiseretVærdi_procent_id">3%</span>
              <span style="float: right;">&nbsp;500 kr.</span>
            </span>
          </div>
          
          <div id="totalUrealiseretVærdi_box_id">
            <span>Total urealiseret værdi</span>
            <hr>
            <span>
              <span class="material-symbols-outlined" style="color: limegreen">arrow_upward_alt</span>
              <span id="totalUrealiseretVærdi_procent_id">6%</span>
              <span style="float: right;">&nbsp;300 kr.</span>
          </div>
        </div>
      </div>

      <!-- Graf over samlet værdi -->
      <div id="samletVærdi_boks_id">
        <span>Samlet værdi</span>
        <hr>
        <canvas id="myChart"></canvas>
      </div>

      <!-- Top 5 værdipapirer -->
      <div id="top5_boks_id">
        <div id="top5Værdipapirer_tværsAfPorteføljer_id">
          <span>Top 5 værdipapirer på tværs af porteføljer</span>
          <table>
            <tr>
              <th>Name</th>
              <th>Portfolio</th>
              <th>24h change</th>
              <th>Value</th>
            </tr>
            <tr>
              <td>Apple Inc.</td>
              <td>Sushi</td>
              <td>1.3%</td>
              <td>12.000 DKK</td>
            </tr>
            <tr>
              <td>Microsoft Cooperation</td>
              <td>Hamburger</td>
              <td>1.4%</td>
              <td>19.000 DKK</td>
            </tr>
            <tr>
              <td>Alhabet Inc.</td>
              <td>Water</td>
              <td>1.5%</td>
              <td>9.000 DKK</td>
            </tr>
            <tr>
              <td>Meta Inc.</td>
              <td>Bottle of water</td>
              <td>1.6%</td>
              <td>10.000 DKK</td>
            </tr>
            <tr>
              <td>Shopify</td>
              <td>Hamburger</td>
              <td>3.6%</td>
              <td>2.000 DKK</td>
            </tr>
            
          </table>
        </div>
        <div id="top5Værdipapirer_urealiseret_id">
          <span>Top 5 værdipapirer på tværs af porteføljer</span>
          <table>
            <tr>
              <th>Name</th>
              <th>Portfolio</th>
              <th>24h change</th>
              <th>Value</th>
            </tr>
            <tr>
              <td>Apple Inc.</td>
              <td>Sushi</td>
              <td>1.3%</td>
              <td>12.000 DKK</td>
            </tr>
            <tr>
              <td>Microsoft Cooperation</td>
              <td>Hamburger</td>
              <td>1.4%</td>
              <td>19.000 DKK</td>
            </tr>
            <tr>
              <td>Alhabet Inc.</td>
              <td>Water</td>
              <td>1.5%</td>
              <td>9.000 DKK</td>
            </tr>
            <tr>
              <td>Meta Inc.</td>
              <td>Bottle of water</td>
              <td>1.6%</td>
              <td>10.000 DKK</td>
            </tr>
            <tr>
              <td>Shopify</td>
              <td>Hamburger</td>
              <td>3.6%</td>
              <td>2.000 DKK</td>
            </tr>
            
          </table>
        </div>
      </div>
      <br><br>
      <div>

      </div>
</body>
</html>

<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"></script>

<script>


// Get the current date
const currentDate = new Date();

// Create an array to hold the dates
const datesArray = [];

// Loop from 30 days ago up to the current date
for (let i = 0; i <= 14; i++) {
    const tempDate = new Date();
    tempDate.setDate(currentDate.getDate() - i); // Set the date to be `i` days before today
    datesArray.push(tempDate.toISOString().split('T')[0]); // Add the date to the array in YYYY-MM-DD format
}
console.log(datesArray);

const flippedArray = datesArray.reverse();

  const xValues = flippedArray;
  
  new Chart("myChart", 
  {
    type: "line",
    data: {
      labels: xValues,
      datasets: [{
        data: [1000,1210,990,1430,1300,1320,1290,1540,760,1000,1210,990,1403,1300,1302,1290,1540,760,1000,1210,990,1403,1300,1302,1290,1540,760,1000,1209,1540,760],
        borderColor: "blue",
        fill: false
      }]
    },
    options: 
    {
      legend: {display: false,
      },
      maintainAspectRatio: false,
      responsive: true,
      
      scales:
      {
        yAxes: [{
            ticks: {
                beginAtZero: true
            }
        }]
        }
      }
  });

  new Chart("myChart2", 
  {
    type: "line",
    data: {
      labels: xValues,
      datasets: [{
        data: [110,91,109,83,90,72,89,110,130,99],
        borderColor: "blue",
        fill: false
      }]
    },
    options: 
    {
      legend: {display: false}
    }
  });







  var xValues_pie = ["AAPL", "GOOG", "AMZN", "IBM", "boi", "e", "a", "b", "p", "g", "ss", "br", "gh", "peach"];
var yValues_pie = [10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10];
var barColors = [
  "purple",
  "green",
  "dodgerblue",
  "red",
  "darkgreen",
  "orange",
  "yellow",
  "darkblue",
  "hotpink",
  "white",
  "black",
  "brown",
  "gray",
  "peach"
];

new Chart("myChart_pie", {
  type: "pie",
  data: {
    labels: xValues_pie,
    datasets: [{
      backgroundColor: barColors,
      data: yValues_pie
    }]
  },
  options: {
    title: {
      display: false
    }
  }
});
  </script>