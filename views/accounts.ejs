<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Accounts</title>
  <link rel="stylesheet" href="accounts_style.css">
  <link rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
</head>

<body>
  <!-- Top Bar -->
  <div id="topBar_id">
    <h1>PORTFOLIOTRACKER</h1>
    <a href="/dashboard" id="topBar_goBack_id">
      <span class="material-symbols-outlined">home</span>
    </a>
  </div>

  <!-- Side Navigation -->
  <ul>
    <li><a href="/dashboard"><span class="material-symbols-outlined">dashboard</span>Dashboard</a></li>
    <li><a href="/portfolios"><span class="material-symbols-outlined">folder_open</span>Portfolios</a></li>
    <li><a href="/trade"><span class="material-symbols-outlined">query_stats</span>Market</a></li>
    <li><a href="/accounts" style="color: gray;"><span class="material-symbols-outlined"
          style="color: gray;">account_balance_wallet</span>Accounts</a></li>
    <li><a href="/profile"><span class="material-symbols-outlined">person</span>Profile</a></li>
  </ul>

  <!-- Main Content -->
  <div id="mainContent">
    <!-- Kontooversigt -->
    <div id="accountsContainer">
      <h2>Kontooversigt</h2>
      <% if (accounts.length===0) { %>
        <div class="account">
          <h3>Konto Navn: Opsparing</h3>
          <p>Valuta: DKK</p>
          <p>Saldo: 10.000 DKK</p>
          <p>Oprettet: 2025-04-01</p>
          <p>Bank: Danske Bank</p>
          <button class="deposit-account">Indbetal</button>
          <button class="withdraw-account">Udbetal</button>
          <button class="close-account">Luk Konto</button>
          <button class="reopen-account">Genåbn Konto</button>
        </div>
        <% } else { %>
          <% accounts.forEach(account=> { %>
            <div class="account">
              <h3>Konto Navn: <%= account.name %>
              </h3>
              <p>Valuta: <%= account.currency %>
              </p>
              <p>Saldo: <%= account.balance %>
                  <%= account.currency %>
              </p>
              <p>Oprettet: <%= account.created_at.toISOString().split('T')[0] %>
              </p>
              <p>Bank: <%= account.bank %>
              </p>
              <button class="deposit-account">Indbetal</button>
              <button class="withdraw-account">Udbetal</button>
              <button class="close-account">Luk Konto</button>
              <button class="reopen-account">Genåbn Konto</button>
            </div>
            <% }) %>
              <% } %>
    </div>

    <!-- Opret ny konto -->
    <div id="createAccountContainer">
      <h2>Opret ny konto</h2>
      <form action="/create-account" method="POST">
        <label>Kontonavn:</label>
        <input type="text" name="name" required>
        <label>Valuta:</label>
        <input type="text" name="currency" placeholder="DKK, USD, EUR..." required>
        <label>Banknavn:</label>
        <input type="text" name="bank" required>
        <button type="submit">Opret Konto</button>
      </form>
    </div>
  </div>
</body>

</html>